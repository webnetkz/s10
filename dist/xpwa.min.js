(()=>{"use strict";class e{constructor(){}href(e){window.location.href=e}getParametr(e="id"){return new URL(window.location.href).searchParams.get(e)}}class t{static async request(e={url:"./",method:"GET",headers:{"Access-Control-Allow-Origin":"*"},mode:"cors",data:{},json:!1}){try{const t=await fetch(e.url,{method:e.method,headers:e.headers,mode:e.mode});if(!t.ok)throw new Error("Network response was not ok");return t.text()}catch(e){throw e}}static async setLocalStorage(e,t="tmp"){localStorage.setItem(this.request(e),t)}}class s{constructor(){}usedLocalStorage(){const e=JSON.stringify(localStorage).length/1048576;console.log(`Used storage: ${e.toFixed(2)} MB`)}}class r{constructor(){window.hidden=this.hidden}show(e){e.classList.add("showElement")}hidden(e){e.classList.add("hiddenElement"),setTimeout((()=>{e.style.display="none"}),290)}}class i extends HTMLElement{constructor(){super(),this.innerHTML=this.innerText+"<close-xpwa></closer-xpwa>",this.classList.add("block"),this.classList.add("message-xpwa")}connectedCallback(){}disconnectedCallback(){}static get observedAttributes(){return["inputs","url"]}attributeChangedCallback(e,t,s){switch(e){case"inputs":console.log(this.setInputs(s));break;case"url":console.log(s)}}adoptedCallback(){}}customElements.define("message-xpwa",i);customElements.define("closer-xpwa",CloserXPWA);class o extends HTMLElement{constructor(){super()}static get observedAttributes(){return["color","progress"]}attributeChangedCallback(e,t,s){switch(e){case"color":this.style.background=s;break;case"progress":s>=100&&this.remove(),this.style.width=s+"vw"}}}customElements.define("progress-bar-xpwa",o);class n extends HTMLElement{constructor(){super(),this.innerHTML+="<span></span>"}static get observedAttributes(){return["color"]}attributeChangedCallback(e,t,s){if("color"===e)this.style.background=s}}customElements.define("progress-round-xpwa",n);class l extends HTMLElement{constructor(){super(),this.querySelector("tab-content").style.display="block",this.addAction()}addAction(){this.tabs=this.querySelectorAll("tab-xpwa"),this.tabs.forEach((e=>{e.classList.add("button"),e.style.marginRight="5px",e.addEventListener("click",(()=>{let t=e.parentNode.querySelectorAll("tab-content");e.parentNode.querySelector(".buttonActive").classList.remove("buttonActive"),e.classList.add("buttonActive"),t.forEach((e=>{e.classList.add("showElement"),e.style.display="none"})),e.nextSibling.nextSibling.style.display="block"}))}))}static get observedAttributes(){return[""]}attributeChangedCallback(e,t,s){}}customElements.define("tabs-xpwa",l);class a extends HTMLElement{constructor(){super(),this.classList.add("input")}static get observedAttributes(){return[]}attributeChangedCallback(e,t,s){e}}customElements.define("input-xpwa",a);class c extends HTMLElement{constructor(){super(),this.classList.add("block"),this.timer=5,this.nowSlide=0,this.innerHTML+='\n    <div class="backSlide"></div>\n    <div class="nextSlide"></div>',this.images=this.querySelectorAll("img"),this.setAttribute("counter",this.images.length),this.setAttribute("now-slide","1"),this.setAttribute("timer",this.timer),this.setImage(this.images[this.nowSlide]),this.querySelector(".backSlide").addEventListener("click",this.handlerBackSlide),this.querySelector(".nextSlide").addEventListener("click",this.handlerNextSlide),this.autoSlide()}autoSlide(){setInterval((()=>{this.querySelector(".nextSlide").click()}),1e3*this.timer)}setImage(e){this.style.background='url("'+e.src+'")'}handlerBackSlide(){let e=this.parentNode,t=Number(e.getAttribute("now-slide")),s=e.querySelectorAll("img");0==Number(e.getAttribute("counter"))&&(t=s.length),e.classList.add("showElement"),setTimeout((()=>{e.classList.remove("showElement")}),300),e.setAttribute("now-slide",t-1),e.style.background=`url('${s[t].src}')`}handlerNextSlide(){let e=this.parentNode,t=Number(e.getAttribute("now-slide")),s=e.querySelectorAll("img");t>=Number(e.getAttribute("counter"))&&(t=0),e.classList.add("showElement"),setTimeout((()=>{e.classList.remove("showElement")}),300),e.setAttribute("now-slide",t+1),e.style.background=`url('${s[t].src}')`}static get observedAttributes(){return[]}attributeChangedCallback(e,t,s){}}customElements.define("slider-xpwa",c);class d{static isMobile(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}}class u extends HTMLElement{constructor(){super(),this.addEventListener("mousemove",this.rotate),this.addEventListener("mouseout",this.stopRotate),this.setStyles(),d.isMobile()&&window.addEventListener("deviceorientation",(function(e){let t=document.querySelector(".tmp"),s=Math.round(e.beta)/180*6,r=Math.round(e.gamma)/90*3;s*=30,r*=30,t.style.transform="rotateX("+-s+"deg) rotateY("+r+"deg)"}),!0)}rotate(e){let t=this.querySelector("div");const s=t.offsetHeight/2,r=t.offsetWidth/2;t.style.transform="rotateX("+-(e.offsetY-s)/5+"deg) rotateY("+(e.offsetX-r)/5+"deg)"}stopRotate(e){this.querySelector("div").style.transform="rotate(0)"}setStyles(){this.style.cssText="\n      perspective: 1000px;\n      transform-style: preserve-3d;\n      display: grid;\n    "}}customElements.define("card-3d-xpwa",u);class h{constructor(){window.query=this.query,window.queryAll=this.queryAll,this.sh=new r,this.hide=this.sh.hidden,this.setComponents()}query(e,t=document){return t.querySelector(e)}queryAll(e,t=document){return t.querySelectorAll(e)}setComponents(){new i}}class m{constructor(){this.setStyles(),this.installXPWA()}setStyles(){const e=document.createElement("link");e.rel="stylesheet",e.href="./xpwa/styles/xpwa.css",document.head.appendChild(e)}installXPWA(){new e,new s,new t}}window.onload=(window.P=new m,window.log=console.log,h=new h,void(request=SigmaRequest.request));const b=["padding: 0.3rem 1rem;","background: black;","font-family: sans-serif;","text-shadow: 0 2px 10px orange;","font: 2rem/3 Georgia;","border-radius: 17px;","color: white;"].join("");console.log("%c%s",b,"xPWA")})();