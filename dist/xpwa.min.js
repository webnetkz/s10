(()=>{"use strict";class t{constructor(){window.hidden=this.hidden}show(e){e.classList.add("showElement")}hidden(e){e.classList.add("hiddenElement"),setTimeout((()=>{e.style.display="none",e.remove()}),290)}}class s extends HTMLElement{constructor(){super(),this.innerHTML=this.innerText+"<close-xpwa></closer-xpwa>"}static get observedAttributes(){return["inputs","url"]}attributeChangedCallback(e,t,s){switch(e){case"inputs":console.log(this.setInputs(s));break;case"url":console.log(s)}}}customElements.define("message-xpwa",s);class n extends HTMLElement{constructor(){super()}static get observedAttributes(){return["position"]}attributeChangedCallback(e,t,s){if("position"===e)this.style.position="fixed"}}customElements.define("header-xpwa",n);class i extends HTMLElement{constructor(){super();const e=document.querySelector("header-xpwa");e&&"fixed"==e.getAttribute("position")&&(this.style.top="70px")}}customElements.define("content-xpwa",i);class r extends HTMLElement{constructor(){super()}}customElements.define("footer-xpwa",r);class o extends HTMLElement{constructor(){super();let e=this.getSettings();e=e.menu,e.forEach((e=>{this.innerHTML+=`<button-xpwa link="${e.link}">${e.text}</button-xpwa>`})),this.innerHTML+="<burger-xpwa></burger-xpwa>"}getSettings(){let e=localStorage.getItem("xpwa");return e=JSON.parse(e),e}}customElements.define("menu-xpwa",o);class a extends HTMLElement{constructor(){super(),this.innerHTML+="<span></span><span></span><span></span>",this.addEventListener("click",this.changeBurger)}openMenu(){this.parentNode.querySelectorAll("button-xpwa").forEach((e=>{e.style.display="block"}))}closeMenu(){this.parentNode.querySelectorAll("button-xpwa").forEach((e=>{e.style.display="none"}))}changeBurger(){const e=this.querySelectorAll("span");"close"!=this.getAttribute("status")?(this.openMenu(),e[0].style.transform="rotate(45deg)",e[0].style.marginTop="13px",e[1].style.opacity="0",e[2].style.transform="rotate(-45deg)",e[2].style.marginTop="-14px",this.setAttribute("status","close")):(this.closeMenu(),e[0].style.transform="rotate(0deg)",e[0].style.marginTop="0",e[1].style.opacity="1",e[2].style.transform="rotate(0)",e[2].style.marginTop="0",this.setAttribute("status","open"))}}customElements.define("burger-xpwa",a);class l extends HTMLElement{constructor(){super(),this.classList.add("showFromRightElement"),this.innerHTML+="<close-xpwa></close-xpwa>"}}customElements.define("sidebar-xpwa",l);class c extends HTMLElement{constructor(){super()}}customElements.define("block-xpwa",c);class d extends HTMLElement{constructor(){super()}createCloseButton(){this.innerHTML+='<close-xpwa style="color: var(--main-theme);"></close-xpwa>'}static get observedAttributes(){return["close"]}attributeChangedCallback(e,t,s){if("close"===e)this.createCloseButton()}}customElements.define("stub-xpwa",d);class u extends HTMLElement{constructor(){super(),this.classList.add("showElement"),this.rendering(),this.closeModal()}rendering(){const e=this.innerHTML;this.innerHTML=`\n    <div class="modal-xpwa">\n      <div class="modal-title-xpwa">\n        <h2>${this.modalTitle}</h2>\n        <span>&times;</span>\n      </div>\n      <div class="modal-content-xpwa">\n        ${e}\n      </div>\n    </div>`}closeModal(){this.querySelector(".modal-title-xpwa span").addEventListener("click",(()=>{this.classList.add("hiddenElement"),setTimeout((()=>{this.remove()}),200)}))}static get observedAttributes(){return["modal"]}attributeChangedCallback(e,t,s){if("modal"===e)this.querySelector("h2").innerHTML=s}}customElements.define("modal-xpwa",u);class h extends HTMLElement{constructor(){super(),this.innerHTML='\n        <div class="line">\n            <div class="indecator-line"></div>\n        </div>\n        '}createStepIndicator(e){const t=this.querySelector(".line"),s=100/(e-1);for(let t=0;t<e;t++){const e=document.createElement("div");e.classList.add("step"),e.style.left=s*t+"%",this.appendChild(e)}t.style.width=s*(e-1)+"%"}updateStepIndicator(e){const t=document.querySelectorAll(".step"),s=document.querySelector(".indicator-line"),n=100/(t.length-1);t.forEach(((t,s)=>{s<e?t.classList.add("active"):t.classList.remove("active")})),s.style.width=n*e+"%"}static get observedAttributes(){return["steps","progress"]}attributeChangedCallback(e,t,s){switch(e){case"steps":this.createStepIndicator(s);break;case"progress":this.updateStepIndicator(s)}}}customElements.define("step-processing-xpwa",h);class p extends HTMLElement{constructor(){super(),this.innerHTML+='\n    <input type="checkbox">\n    <label></label>'}static get observedAttributes(){return["name"]}attributeChangedCallback(e,t,s){if("name"===e)this.querySelector("input").name=s}}customElements.define("checkbox-xpwa",p);class m extends HTMLElement{constructor(){super(),this.innerHTML+='\n    <input type="radio">\n    <label></label>'}static get observedAttributes(){return["name"]}attributeChangedCallback(e,t,s){if("name"===e)this.querySelector("input").name=s}}customElements.define("radio-xpwa",m);class x extends HTMLElement{constructor(){super()}static get observedAttributes(){return["link"]}attributeChangedCallback(e,t,s){if("link"===e)this.addEventListener("click",(()=>{location.href=s}))}}customElements.define("button-xpwa",x);class b extends HTMLElement{constructor(){super()}}customElements.define("border-lines-xpwa",b);class g extends HTMLElement{constructor(){super(),this.addEventListener("click",(()=>{window.scrollTo(0,0)}))}}customElements.define("top-xpwa",g);class w{static isMobile(){return window.innerWidth<=1200}}class E extends HTMLElement{constructor(){super(),this.innerHTML+='<button-xpwa close="close">Close</button-xpwa>';const e=this.querySelector('button-xpwa[close="close"]');this.setButtonStyle(e),e.addEventListener("click",(()=>{w.isMobile()?this.style.cssText="\n        left: -88vw;\n        background: var(--main-theme);":this.style.cssText="\n          left: -19.5vw;\n          background: var(--main-theme);"})),e.click(),this.openNav()}setButtonStyle(e){e.style.cssText="\n      position: absolute;\n      bottom: 10px;\n      left: 2.1vw;\n    "}openNav(){this.addEventListener("mousemove",(()=>{this.style.cssText="\n      transition-duration: 400ms;\n      left: 0vw;\n      background: var(--bg);"}))}}customElements.define("nav-xpwa",E);class v extends HTMLElement{constructor(){super(),this.innerHTML='<a href="#">&#9742;</a>'}static get observedAttributes(){return["phone"]}attributeChangedCallback(e,t,s){if("phone"===e)this.querySelector("a").href=s}}customElements.define("phone-xpwa",v);class y extends HTMLElement{constructor(){super(),this.innerHTML="+",this.animation="hide",this.addEventListener("click",this.closeWindow)}closeWindow(){DOM.hide(this.parentNode)}static get observedAttributes(){return["animation"]}attributeChangedCallback(e,t,s){e}}customElements.define("close-xpwa",y);class f extends HTMLElement{constructor(){super()}static get observedAttributes(){return["color","progress"]}attributeChangedCallback(e,t,s){switch(e){case"color":this.style.background=s;break;case"progress":s>=100&&this.remove(),this.style.width=s+"vw"}}}customElements.define("progress-bar-xpwa",f);class L extends HTMLElement{constructor(){super(),this.createRound()}createRound(){this.innerHTML="\n            <span><i></i><i></i><i></i></span>\n        "}static get observedAttributes(){return["color"]}attributeChangedCallback(e,t,s){if("color"===e)this.style.background=s}}customElements.define("preloader-xpwa",L);class T extends HTMLElement{constructor(){super(),this.querySelector("tab-content").style.display="block",this.addAction()}addAction(){this.tabs=this.querySelectorAll("tab-xpwa"),this.tabs.forEach((e=>{e.classList.add("button"),e.style.marginRight="5px",e.addEventListener("click",(()=>{let t=e.parentNode.querySelectorAll("tab-content");e.parentNode.querySelector(".buttonActive").classList.remove("buttonActive"),e.classList.add("buttonActive"),t.forEach((e=>{e.classList.add("showElement"),e.style.display="none"})),e.nextSibling.nextSibling.style.display="block"}))}))}}customElements.define("tabs-xpwa",T);class k extends HTMLElement{constructor(){super(),this.innerHTML='<input type="text">',this.inp=this.querySelector("input"),this.inp.addEventListener("input",this.listener(e)),this.inp.addEventListener("keydown",this.keyDown(e)),this.currentFocus,document.addEventListener("click",(function(e){this.closeAllLists(e.target)}))}static get observedAttributes(){return[]}listener(e){let t,s,n,i=this.value;if(this.closeAllLists(),!i)return!1;for(this.currentFocus=-1,t=document.createElement("DIV"),t.setAttribute("id",this.id+"autocomplete-list"),t.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(t),n=0;n<arr.length;n++)arr[n].substr(0,i.length).toUpperCase()==i.toUpperCase()&&(s=document.createElement("DIV"),s.innerHTML="<strong>"+arr[n].substr(0,i.length)+"</strong>",s.innerHTML+=arr[n].substr(i.length),s.innerHTML+="<input type='hidden' value='"+arr[n]+"'>",s.addEventListener("click",(function(e){inp.value=this.getElementsByTagName("input")[0].value,this.closeAllLists()})),t.appendChild(s))}keyDown(e){let t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(this.currentFocus++,this.addActive(t)):38==e.keyCode?(this.currentFocus--,this.addActive(t)):13==e.keyCode&&(e.preventDefault(),this.currentFocus>-1&&t&&t[this.currentFocus].click())}addActive(e){if(!e)return!1;this.removeActive(e),this.currentFocus>=e.length&&(this.currentFocus=0),this.currentFocus<0&&(this.currentFocus=e.length-1),e[this.currentFocus].classList.add("autocomplete-active")}removeActive(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}closeAllLists(e){let t=document.getElementsByClassName("autocomplete-items");for(let s=0;s<t.length;s++)e!=t[s]&&e!=inp&&t[s].parentNode.removeChild(t[s])}attributeChangedCallback(e,t,s){e}}customElements.define("input-xpwa",k);class M extends HTMLElement{constructor(){super()}}customElements.define("slide-xpwa",M);class A extends HTMLElement{constructor(){super(),this.addEventListener("click",this.handlerNextSlide)}handlerNextSlide(){let e=this.parentNode,t=e.getAllImages();e.sliderIndex<t.length-1?(e.sliderIndex++,e.setAttribute("index",e.sliderIndex)):e.setAttribute("index",0)}}customElements.define("next-slide-xpwa",A);class H extends HTMLElement{constructor(){super(),this.addEventListener("click",this.handlerBackSlide)}handlerBackSlide(){let e=this.parentNode,t=e.getAllImages();0==e.sliderIndex?e.setAttribute("index",t.length-1):(e.sliderIndex--,e.setAttribute("index",e.sliderIndex))}}customElements.define("back-slide-xpwa",H);class S extends HTMLElement{constructor(){super()}}customElements.define("dot-xpwa",S);class C extends HTMLElement{constructor(){super()}}customElements.define("dots-container-xpwa",C);class I extends HTMLElement{constructor(){super(),this.sliderIndex=0,this.timer=1,this.setAttribute("index",this.sliderIndex),this.createArrows(),w.isMobile(),this.swipes();const e=this.getAllImages();this.setImage(e[0]),this.createDots(e)}swipes(){let e,t,s=this.querySelector("next-slide-xpwa"),n=this.querySelector("back-slide-xpwa");this.addEventListener("touchstart",(function(t){e=t.touches[0].clientX}),!1),this.addEventListener("touchend",(function(i){t=i.changedTouches[0].clientX,e-t>100?s.click():e-t<-100&&n.click()}),!1)}getAllImages(){return this.querySelectorAll("img")}createArrows(){this.prepend(document.createElement("back-slide-xpwa")),this.appendChild(document.createElement("dots-container-xpwa")),this.appendChild(document.createElement("next-slide-xpwa"))}createDots(e){const t=this.querySelector("dots-container-xpwa");e.forEach(((e,s)=>{const n=document.createElement("dot-xpwa");0===s&&n.classList.add("active"),n.addEventListener("click",(()=>{this.sliderIndex=s,this.updateDots()})),t.appendChild(n)}))}updateDots(){this.isUpdating=!0;const e=this.querySelectorAll("dot-xpwa");e.forEach((e=>e.classList.remove("active"))),e[this.sliderIndex].classList.add("active"),this.setAttribute("index",this.sliderIndex),this.setImage(this.getAllImages()[this.sliderIndex]),this.isUpdating=!1}autoUpdateSlider(){setInterval((()=>{this.querySelector("next-slide-xpwa").click()}),1e3*this.timer)}setImage(e){this.style.background='url("'+e.src+'")'}static get observedAttributes(){return["index","timer"]}attributeChangedCallback(e,t,s){"index"!==e||this.isUpdating||(this.sliderIndex=parseInt(s,10),this.updateDots()),"timer"===e&&(this.timer=s,this.autoUpdateSlider())}}customElements.define("slider-xpwa",I);class q extends HTMLElement{constructor(){super(),this.addEventListener("mousemove",this.rotate),this.addEventListener("mouseout",this.stopRotate),w.isMobile()&&window.addEventListener("deviceorientation",(function(e){let t=document.querySelector(".tmp"),s=Math.round(e.beta)/180*6,n=Math.round(e.gamma)/90*3;s*=30,n*=30,t.style.transform="rotateX("+-s+"deg) rotateY("+n+"deg)"}),!0)}rotate(e){let t=this.querySelector(":first-child");const s=t.offsetHeight/2,n=t.offsetWidth/2;t.style.transform="rotateX("+-(e.offsetY-s)/5+"deg) rotateY("+(e.offsetX-n)/5+"deg)"}stopRotate(e){this.querySelector(":first-child").style.transform="rotate(0)"}}customElements.define("card-3d-xpwa",q);class N{constructor(){this.setStyles(),document.body.appendChild(document.createElement("top-xpwa")),this.showerHidden=new t,this.hide=this.showerHidden.hidden,this.setComponents()}query(e,t=document){return t.querySelector(e)}queryAll(e,t=document){return t.querySelectorAll(e)}setStyles(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/xpwa@latest/dist/xpwa.min.css",document.head.appendChild(e)}setComponents(){new s}}window.onload=(window.DOM=new N,void fetch("/xpwa.json").then((e=>e.json())).then((e=>{e=JSON.stringify(e),localStorage.setItem("xpwa",e),console.log(e)})).catch((e=>console.log("Ошибка:",e))));const B=["padding: 0.3rem 1rem;","background: black;","font-family: sans-serif;","text-shadow: 0 2px 10px orange;","font: 2rem/3 Georgia;","border-radius: 17px;","color: white;"].join("");console.log("%c%s",B,"xPWA")})();